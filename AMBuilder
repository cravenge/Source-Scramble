# vim: set sts=2 ts=8 sw=2 tw=99 et ft=python:
import os

for cxx in builder.targets:
  binary = SrcScramble.ExtLibrary(builder, cxx, 'srcscramble.ext')
  binary.compiler.includes += [
    os.path.join(SrcScramble.mms_root, 'core', 'sourcehook'),
  ]
  
  binary.sources += [
    'extension.cpp',
    'natives.cpp',
    'patches.cpp',
    'util.cpp',
    'smsdk_ext.cpp',
  ]

  SrcScramble.extensions += [builder.Add(binary)]